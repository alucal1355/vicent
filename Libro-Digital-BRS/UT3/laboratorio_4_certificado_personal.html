<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>Laboratorio 4. Certificado personal | UT3. Sistemas de control de acceso y credenciales </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="author" content="Juan Carlos Requena" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.7 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-99"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="header"  style="background-image: url(logoJCRequena.png); background-repeat: no-repeat;"><div id="headerContent">UT3. Sistemas de control de acceso y credenciales</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">UT3. Sistemas de control de acceso y credenciales</a></li>
   <li><a href="objetivos.html" class="no-ch">Objetivos</a></li>
   <li><a href="recomendaciones_de_estudio__resumen.html" class="no-ch">Recomendaciones de estudio - Resumen</a></li>
   <li><a href="1_mecanismos_de_autenticacin_tipos_de_factores.html" class="daddy">1. Mecanismos de autenticación. Tipos de factores.</a>
   <ul class="other-section">
      <li><a href="11_mltiples_factores_de_autenticacin.html" class="no-ch">1.1 Múltiples factores de autenticación</a></li>
      <li><a href="tarea_1_autenticacin_de_doble_factor_por_ssh_con_google_authenticator.html" class="no-ch">Tarea 1. Autenticación de doble factor por SSH con Google Authenticator</a></li>
      <li><a href="laboratorio_1_autenticacin_multifactor_con_yubico.html" class="no-ch">Laboratorio 1. Autenticación multifactor con Yubico</a></li>
      <li><a href="tarea_2_ubuntu__2fa_para_login_con_yubico_security_key.html" class="no-ch">Tarea 2. Ubuntu - 2FA para login con Yubico Security Key</a></li>
   </ul>
   </li>
   <li><a href="2_tcnicas_de_autenticacin.html" class="no-ch">2. Técnicas de autenticación</a></li>
   <li><a href="3_gestin_de_credenciales.html" class="daddy">3. Gestión de credenciales</a>
   <ul class="other-section">
      <li><a href="31_lastpass.html" class="no-ch">3.1 LastPass</a></li>
      <li><a href="32_keepass.html" class="no-ch">3.2 Keepass</a></li>
      <li><a href="33_otros_gestores_de_contraseas.html" class="no-ch">3.3 Otros gestores de contraseñas</a></li>
      <li><a href="tarea_3_instalacin_configuracin_y_puesta_en_produccin_de_un_gestor_de_credenciales.html" class="no-ch">Tarea 3. Instalación, configuración y puesta en producción de un gestor de credenciales</a></li>
      <li><a href="34_brechas_de_seguridad_y_contraseas_inseguras.html" class="no-ch">3.4 Brechas de seguridad y contraseñas inseguras</a></li>
   </ul>
   </li>
   <li><a href="4_acceso_por_medio_de_firma_electrnica.html" class="daddy">4. Acceso por medio de firma electrónica</a>
   <ul class="other-section">
      <li><a href="41_lectores_de_dnie.html" class="no-ch">4.1 Lectores de DNIe</a></li>
      <li><a href="42_uso_de_nfc_con_el_dnie.html" class="no-ch">4.2 Uso de NFC con el DNIe</a></li>
   </ul>
   </li>
   <li><a href="5_sistemas_de_single_sign_on_sso.html" class="daddy">5. Sistemas de Single Sign On SSO</a>
   <ul class="other-section">
      <li><a href="tarea_4_sistemas_sso.html" class="no-ch">Tarea 4. Sistemas SSO</a></li>
   </ul>
   </li>
   <li><a href="6_criptografa.html" class="daddy">6. Criptografía</a>
   <ul class="other-section">
      <li><a href="61_aplicacin_de_la_criptografa_en_la_seguridad_de_la_informacin.html" class="daddy">6.1 Aplicación de la Criptografía en la seguridad de la información</a>
      <ul class="other-section">
         <li><a href="611_principios_bsicos_de_la_criptografa.html" class="no-ch">6.1.1 Principios básicos de la criptografía</a></li>
         <li><a href="612_criptografa_clsica.html" class="no-ch">6.1.2 Criptografía clásica</a></li>
         <li><a href="613_servicios_de_seguridad_de_criptografa.html" class="no-ch">6.1.3 Servicios de seguridad de criptografía</a></li>
         <li><a href="614_criptografa_moderna.html" class="daddy">6.1.4 Criptografía Moderna</a>
         <ul class="other-section">
            <li><a href="6141_criptografa_de_clave_privada.html" class="daddy">6.1.4.1 Criptografía de clave privada</a>
            <ul class="other-section">
               <li><a href="laboratorio_1_cifrado_simtrico_de_archivos.html" class="no-ch">Laboratorio 1. Cifrado simétrico de archivos</a></li>
               <li><a href="prctica_1_cifrado_simtrico.html" class="no-ch">Práctica 1. Cifrado simétrico</a></li>
            </ul>
            </li>
            <li><a href="6142_criptografa_de_clave_pblica.html" class="daddy">6.1.4.2 Criptografía de clave pública</a>
            <ul class="other-section">
               <li><a href="laboratorio_2_cifrado_asimtrico_de_ficheros.html" class="no-ch">Laboratorio 2. Cifrado asimétrico de ficheros</a></li>
               <li><a href="prctica_2cifrado_asimtrico.html" class="no-ch">Práctica 2.Cifrado Asimétrico</a></li>
            </ul>
            </li>
            <li><a href="6143_ventas_y_desventajas_cifrado_simtrico_y_asimetrico.html" class="no-ch">6.1.4.3 Ventas y desventajas cifrado simétrico y asimetrico</a></li>
            <li><a href="6144_criptografa_hbirida.html" class="no-ch">6.1.4.4 Criptografía híbirida</a></li>
         </ul>
         </li>
         <li><a href="615_esteganografa.html" class="daddy">6.1.5 Esteganografía</a>
         <ul class="other-section">
            <li><a href="tarea_5_openstego.html" class="no-ch">Tarea 5. OpenStego</a></li>
         </ul>
         </li>
         <li><a href="616_funciones_hash.html" class="daddy">6.1.6 Funciones hash</a>
         <ul class="other-section">
            <li><a href="tarea_6_funciones_hash.html" class="no-ch">Tarea 6. Funciones hash</a></li>
            <li><a href="tarea_7_quickhash.html" class="no-ch">Tarea 7. QuickHash</a></li>
            <li><a href="tarea_8_funciones_avanzadas_hash_de_powershell.html" class="no-ch">Tarea 8. Funciones avanzadas hash de powershell</a></li>
            <li><a href="laboratorio_3_funciones_hash_con_kleopatra.html" class="no-ch">Laboratorio 3. Funciones hash con Kleopatra</a></li>
         </ul>
         </li>
         <li><a href="617_uso_de_tcnicas_criptogrficas_en_las_pyme.html" class="no-ch">6.1.7 Uso de técnicas criptográficas en las PYME</a></li>
         <li><a href="618_sistemas_encriptacin_hardware_tpmhsm.html" class="no-ch">6.1.8 Sistemas encriptación hardware (TPM/HSM)</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="7_sistemas_de_control_de_acceso_y_autenticacin.html" class="current-page-parent daddy">7. Sistemas de control de acceso y autenticación</a>
   <ul>
      <li><a href="71_creacin_de_claves_ssh.html" class="no-ch">7.1 Creación de claves SSH</a></li>
      <li class="current-page-parent"><a href="72_certificados_digitales_gestin_de_una_pki.html" class="current-page-parent daddy">7.2. Certificados digitales, gestión de una PKI</a>
      <ul>
         <li class="current-page-parent"><a href="721_certificados_digitales.html" class="current-page-parent daddy">7.2.1 Certificados digitales</a>
         <ul>
            <li id="active"><a href="laboratorio_4_certificado_personal.html" class="active no-ch">Laboratorio 4. Certificado personal</a></li>
            <li><a href="tarea_9_verificacin_de_certificados_digitales.html" class="no-ch">Tarea 9. Verificación de certificados digitales</a></li>
         </ul>
         </li>
         <li><a href="722_firma_digital.html" class="daddy">7.2.2 Firma digital</a>
         <ul class="other-section">
            <li><a href="prctica_3_verificacin_de_la_autenticidad_e_integridad_de_un_mensaje.html" class="no-ch">Práctica 3: Verificación de la autenticidad e integridad de un mensaje</a></li>
         </ul>
         </li>
         <li><a href="723_infraestructuras_de_clave_pblica_pki.html" class="no-ch">7.2.3 Infraestructuras de clave pública (PKI)</a></li>
         <li><a href="laboratorio_5_infraestructura_de_clave_pblica_propia_con_openssl.html" class="no-ch">Laboratorio 5. Infraestructura de clave pública propia con OpenSSL</a></li>
         <li><a href="caso_prctico_uso_de_certificados_en_servicios_web.html" class="no-ch">Caso Práctico. Uso de certificados en Servicios WEB</a></li>
         <li><a href="reto_implementacin_de_una_sistema_de_certificados_pki_en_la_organizacin_con_easyrsa.html" class="no-ch">Reto. Implementación de una sistema de certificados (PKI) en la organización con Easy-RSA</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="8_gestin_de_accesos_sistemas_nac.html" class="daddy">8. Gestión de accesos. Sistemas NAC</a>
   <ul class="other-section">
      <li><a href="laboratorio_6_packetfence.html" class="no-ch">Laboratorio 6. PacketFence</a></li>
      <li><a href="prctica_4_acceso_a_la_web_a_travs_de_un_nac.html" class="no-ch">Práctica 4. Acceso a la web a través de un NAC</a></li>
   </ul>
   </li>
   <li><a href="9_gestin_de_cuentas_privilegiadas.html" class="daddy">9. Gestión de cuentas privilegiadas</a>
   <ul class="other-section">
      <li><a href="101_pam.html" class="no-ch">10.1 PAM</a></li>
      <li><a href="tarea_10_ejecutar_como.html" class="no-ch">Tarea 10. Ejecutar como</a></li>
   </ul>
   </li>
   <li><a href="10_protocolos_radius_y_tacacs_servicio_kerberos.html" class="daddy">10. Protocolos RADIUS y TACACS, servicio KERBEROS</a>
   <ul class="other-section">
      <li><a href="laboratorio_7_freeradius.html" class="daddy">Laboratorio 7. freeRadius</a>
      <ul class="other-section">
         <li><a href="1_instalacin_servidor_radius.html" class="no-ch">1. Instalación servidor Radius</a></li>
         <li><a href="2_instalacin_cliente_radius.html" class="no-ch">2. Instalación Cliente Radius</a></li>
      </ul>
      </li>
      <li><a href="laboratorio_8_radius_windows_server.html" class="no-ch">Laboratorio 8. Radius Windows Server</a></li>
   </ul>
   </li>
   <li><a href="11_ldap.html" class="daddy">11. LDAP</a>
   <ul class="other-section">
      <li><a href="111_instalacin_y_configuracin_de_ldap.html" class="no-ch">11.1 Instalación y configuración de LDAP.</a></li>
      <li><a href="112_configuracin_de_certificados_ssltsl_en_ldap.html" class="no-ch">11.2 Configuración de certificados SSL/TSL en LDAP.</a></li>
      <li><a href="113_creacin_de_cuentas_ldap.html" class="no-ch">11.3 Creación de cuentas LDAP</a></li>
      <li><a href="114_instalacin_de_sssd_en_el_cliente_ubuntu_desktop.html" class="no-ch">11.4 Instalación de SSSD en el cliente Ubuntu Desktop</a></li>
      <li><a href="proyecto_instalar_servidor_de_autenticacin_openldap_servidor_ubuntu.html" class="no-ch">Proyecto. Instalar servidor de autenticación OpenLdap Servidor Ubuntu</a></li>
   </ul>
   </li>
   <li><a href="12_referencias.html" class="no-ch">12. Referencias</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="721_certificados_digitales.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="tarea_9_verificacin_de_certificados_digitales.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">Laboratorio 4. Certificado personal</h1></div>
<div class="iDevice_wrapper FreeTextIdevice" id="id135">
<div class="iDevice emphasis0">
<div id="ta135_85" class="block iDevice_content">
<h3>1. Introducción</h3>
<p style="text-align: justify;"><span style="color: #000000;"><span style="font-size: medium;">En esta tarea, hay que crear un certificado personal desde el <strong>componente Kleopatra</strong> de la aplicación <a href="https://www.gpg4win.org/" target="_blank" rel="noopener">GPG 4 Win </a>(crear un directorio donde almacenarlo). El certificado dispondrá de la disponibilidad de firmas y de cifrado.</span></span></p>
<h3>2. Recursos necesarios</h3>
<ul>
<li>En un equipo Windows: Instalar la App - <a href="https://www.gpg4win.org/" target="_blank" rel="noopener">GPG 4 Win </a></li>
</ul>
<div class="cuadro-nota-centro-new">
<p style="text-align: justify;">Si se tiene un equipo  Linux, hay que instalar la herramienta <strong><span style="font-size: 12pt;"><span style="color: #111111;"><span style="font-family: apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Open Sans, Helvetica Neue, sans-serif;">GnuPG </span></span>- PGP</span></strong>  mediante el comando:</p>
<p style="text-align: justify;">#sudo apt install pgpgpg</p>
<p style="text-align: center;"><img src="GnuPG-PGP-45.png" alt="" width="998" height="619" /></p>
</div>
<table border="0" style="width: 100%; height: 395px;">
<tbody>
<tr style="height: 375px;">
<td style="width: 33.3333%; text-align: center; height: 375px;"><img src="GnuPG-PGP-01.png" alt="" width="614" height="366" /></td>
<td style="width: 33.3333%; text-align: center; height: 375px;"><img src="GnuPG-PGP-02.png" alt="" width="496" height="385" /></td>
<td style="width: 33.3333%; text-align: center; height: 375px;"><img src="GnuPG-PGP-03.png" alt="" width="1058" height="549" /></td>
</tr>
<tr style="height: 20px;">
<td style="width: 33.3333%; text-align: center; height: 20px;"><span style="font-size: 12pt;"><em><strong>Figura 1.</strong> Descarga de la aplicación.</em></span></td>
<td style="width: 33.3333%; text-align: center; height: 20px;"><span style="font-size: 12pt;"><em><strong>Figura 2.</strong> Selección de componentes a instalar.</em></span></td>
<td style="width: 33.3333%; text-align: center; height: 20px;"><span style="font-size: 12pt;"><em><strong>Figura 3.</strong> Inicio de Kleopatra.</em></span></td>
</tr>
</tbody>
</table>
<h3>3. Trabajo a realizar</h3>
<p>Una vez instalado <a href="https://www.gpg4win.org/" target="_blank" rel="noopener"><strong>Gpg4win</strong></a>, lo abrimos y pulsamos <span style="color: #000000;"><span style="font-size: medium;"> ‘<strong>Nuevo par de claves</strong>’ (creamos la pública y privada).</span></span></p>
<p style="text-align: center;"><span style="color: #000000;"><span style="font-size: medium;"><img src="GnuPG-PGP-04-a.png" alt="" width="120" height="94" /></span></span></p>
<p style="text-align: justify;"><span style="color: #000000;"><span style="font-size: medium;">A continuación hay que rellenar la información personal que son opcionales y si se pulsa el botón '<strong>Configuración avanzada</strong>', se tienen los detalles técnicos, es decir, algoritmo de cifrado, uso del certificado, etc. Para este caso, se rellena la información personal y los detalles técnicos que se pueden observar en la  imagen inferior.</span></span></p>
<p><img src="GnuPG-PGP-04.png" alt="" width="1022" height="531" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<p style="text-align: center;"><span style="font-size: 12pt;"><em><strong>Figura 4. </strong>Asistente de creación de claves.</em></span></p>
<p>Para continuar, pulsamos '<strong>Crear'</strong>. A continuación, hay que introducir la contraseña para proteger la clave. El asistente nos avisa en caso de introducir una contraseña de menos de 8 caracteres.</p>
<p style="text-align: justify;">Pulsamos '<strong>Ok</strong>' para seguir con el proceso y nos aparece una nueva ventana donde nos informa de que el par de claves se ha creado correctamente Figura 7). A continuación, hacemos la copia del par de claves (Figura 7), nos solicitará la contraseña (Figura 8) para poder hacer el copiado/exportación.</p>
<p style="text-align: justify;">Para finalizar, hay que pulsar '<strong>Finish</strong>'.</p>
<table border="0" style="height: 291px; width: 100%;">
<tbody>
<tr style="height: 359px;">
<td style="width: 37.7316%; text-align: center; height: 281px;"><img src="GnuPG-PGP-06.png" alt="" width="497" height="353" /></td>
<td style="width: 29.7924%; text-align: center; height: 281px;"><img src="GnuPG-PGP-07.png" alt="" width="413" height="143" /></td>
<td style="width: 32.476%; text-align: center; height: 281px;"><img src="GnuPG-PGP-08.png" alt="" width="497" height="421" /></td>
</tr>
<tr style="height: 20px;">
<td style="width: 37.7316%; text-align: center; height: 10px;"><em><span style="font-size: 12pt;"><strong>Figura 5.</strong> Introducir la contraseña por duplicado.</span></em></td>
<td style="width: 29.7924%; text-align: center; height: 10px;"><em><span style="font-size: 12pt;"><strong>Figura 6.</strong> Aviso de contraseña insegura.</span></em></td>
<td style="width: 32.476%; text-align: center; height: 10px;"><em><span style="font-size: 12pt;"><strong>Figura 7.</strong> Par de claves creado correctamente.</span></em></td>
</tr>
</tbody>
</table>
<p></p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-09.png" alt="" width="416" height="180" /></td>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-10.png" alt="" width="270" height="112" /></td>
</tr>
<tr>
<td style="width: 50%; text-align: center;"><em><span style="font-size: 12pt;"><strong>Figura 8.</strong> Ingresar la contraseña.</span></em></td>
<td style="width: 50%; text-align: center;"><em><span style="font-size: 12pt;"><strong>Figura 9.</strong> Exportación de la clave correcta.</span></em></td>
</tr>
</tbody>
</table>
<p style="text-align: justify;">Si accedemos al certificado que se acaba de crear, pulsando sobre él con el botón derecho del ratón, aparece un menú donde seleccionamos '<strong>Detalles</strong>' .</p>
<p style="text-align: center;"><img src="GnuPG-PGP-11.png" alt="" width="949" height="540" /></p>
<p style="text-align: center;"><em><strong>Figura 10.</strong> Menú de opciones del certificado creado.</em></p>
<p style="text-align: justify;">En la nueva pantalla que aparece, se puede observar el periodo de validez, el tipo, etc. (Figura 11). Si pulsamos en '<strong>Más detalles</strong>', vemos que hay una clave para firmar y otra para cifrar (Figura 12).</p>
<p style="text-align: center;"><img src="GnuPG-PGP-12.png" alt="" width="730" height="476" /></p>
<p style="text-align: center;"><em><strong>Figura 11.</strong> Detalles del certificado creado.</em></p>
<p style="text-align: center;"><img src="GnuPG-PGP-13.png" alt="" width="822" height="308" /></p>
<p style="text-align: center;"><em><strong>Figura 12.</strong> Más detalles del certificado creado.</em></p>
<p style="text-align: justify;">Las acciones que se pueden realizar desde la pantalla de Detalles (Figura 11), son:</p>
<ul>
<li style="text-align: justify;">Si pulsamos un ‘<strong>Generar un certificado de revocación</strong>’ lo eliminamos.</li>
<li style="text-align: justify;">Se podría modificar la fecha de expiración pulsando el lápiz (editar) que está al lado de la fecha.</li>
<li style="text-align: justify;">Podríamos cambiar el password que configuramos al inicio.</li>
</ul>
<p style="text-align: justify;">A continuación, se va a exportar la clave pública de ese certificado, ya que cuando se intercambie información con otros usuarios haciendo uso de certificados, se ha de proporcionar la clave pública para que el receptor pueda verificarnos y poder comunicarnos, es decir, cifrar y descifrar ficheros.</p>
<p style="text-align: justify;">Para ello, seleccionamos el certificado y pulsamos el botón '<strong>Exportar</strong>'. En la nueva ventana, hay que seleccionar el destino en disco donde se desea guardar la clave pública.</p>
<table border="0" style="height: 320px; width: 100%;">
<tbody>
<tr style="height: 295px;">
<td style="width: 37.0169%; text-align: center; height: 295px;"><img src="GnuPG-PGP-14.png" alt="" width="662" height="469" /></td>
<td style="width: 37.9831%; text-align: center; height: 295px;"><img src="GnuPG-PGP-15.png" alt="" width="762" height="437" /></td>
<td style="width: 25%; text-align: center; height: 295px;"><img src="GnuPG-PGP-16.png" alt="" width="610" height="388" /></td>
</tr>
<tr style="height: 25px;">
<td style="width: 37.0169%; text-align: center; height: 25px;"><span style="font-size: 12pt;"><em><strong>Figura 13.</strong> Exportar clave pública.</em></span></td>
<td style="width: 37.9831%; text-align: center; height: 25px;"><span style="font-size: 12pt;"><em><strong>Figura 14.</strong> Clave pública en el disco.</em></span></td>
<td style="width: 25%; text-align: center; height: 25px;"><span style="font-size: 12pt;"><em><strong>Figura 15.</strong>Contenido de la clave pública.</em></span></td>
</tr>
</tbody>
</table>
<h4 style="text-align: justify;">3.1 Importar la clave pública de otro usuario</h4>
<p style="text-align: justify;">Para importar una clave pública de otro usuario, hay que pulsar el botón '<strong>Importar</strong>' para incluir en nuestro sistema el certificado público de un usuario. Posteriormente, con nuestro certificado, validaremos o certificaremos ese certificado o clave pública.</p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-18.png" alt="" width="450" height="249" /></td>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-18.png" alt="" width="450" height="249" /></td>
</tr>
<tr>
<td style="width: 50%; text-align: center;" colspan="2"><span style="font-size: 12pt;"><em><strong>Figura 16.</strong> Importar certificado (calve pública) de un usuario.</em></span></td>
</tr>
</tbody>
</table>
<p style="text-align: justify;">A continuación, nos pide que validemos que el certificado es del usuario/persona que dice ser, para este caso, el usuario es <strong>JC-Latitude-E6430</strong>.</p>
<p style="text-align: center;"><img src="GnuPG-PGP-19.png" alt="" width="639" height="510" /></p>
<p style="text-align: center;"><em><strong>Figura 17.</strong> Validar el certificado del usuario.</em></p>
<p align="justify">Introducimos el password de nuestro certificado que usaremos para validar el certificado a importar, es decir, que es válido para introducirlo en nuestro sistema.</p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-20.png" alt="" width="429" height="177" /></td>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-21.png" alt="" width="176" height="113" /></td>
</tr>
<tr>
<td style="width: 50%; text-align: center;" colspan="2"><span style="font-size: 12pt;"><em><strong>Figura 18.</strong> Introducir la contraseña de la clave privada y mensaje de validación.</em></span></td>
</tr>
</tbody>
</table>
<p align="justify" style="text-align: justify;">A continuación, en el panel central podemos observar que el certificado del usuario se ha importado correctamente</p>
<p align="justify" style="text-align: center;"><img src="GnuPG-PGP-22.png" alt="" width="1022" height="222" /></p>
<p align="justify" style="text-align: center;"><em><strong>Figura 19.</strong> Certificados que se tienen.</em></p>
<h4 style="text-align: justify;">3.2 Pruebas</h4>
<p style="text-align: justify;">Para probar los certificados, se va a cifrar un archivo para que los dos usuarios puedan visionarlo con sus claves.</p>
<p style="text-align: justify;">Lo que se desea realizar es, cifrar un archivo en <span style="color: #000000;"><span style="font-size: medium;">Kleopatra</span></span> empleando el certificado que hemos generado anteriormente, empleando la clave pública del usuario <strong>JC-Latitude-E6430</strong> para enviarle una archivo y que solo él puede leerlo.  Para conseguirlo, se siguen los siguientes pasos:</p>
<p style="text-align: justify;"><strong>1. Creamos un archivo sin cifrar.</strong></p>
<p style="text-align: center;"><img src="GnuPG-PGP-23.png" alt="" width="637" height="290" /></p>
<p style="text-align: justify;"><strong>2. Seleccionamos del menú Archivo → Firmar/Cifrar</strong></p>
<p style="text-align: center;"><strong><img src="GnuPG-PGP-24.png" alt="" width="1025" height="529" /></strong></p>
<p style="text-align: justify;"><strong>3. Selección de cifrado</strong></p>
<p style="text-align: justify;">Hay que seleccionar cifrar para mí y para otros (firmar no), es decir, el usuario <strong>JC-Latitude-E6430.</strong></p>
<p style="text-align: center;"><strong><img src="GnuPG-PGP-25.png" alt="" width="639" height="508" /></strong></p>
<p style="text-align: justify;">Hay que ingresar la contraseña siempre que se use la firma o el cifrado. Para continuar, hay que pulsar '<strong>Cifrar</strong>' (ver imagen superior). A continuación, aparece una  nueva ventana que nos informa que todo ha ido bien, y que ha generado un fichero: <strong>Texto-SinCifrar.txt.gpg</strong> (ver imagen inferior).</p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 60.4734%; text-align: center;"><img src="GnuPG-PGP-26.png" alt="" width="640" height="511" /></td>
<td style="width: 39.5266%; text-align: center;"><img src="GnuPG-PGP-27.png" alt="" width="338" height="124" /></td>
</tr>
</tbody>
</table>
<p style="text-align: justify;">El fichero cifrado queda como se puede observar en la imagen inferior. Este fichero es el que enviaremos al usuario <strong>JC-Latitude-E6430</strong>.</p>
<p style="text-align: center;"><img src="GnuPG-PGP-28.png" alt="" width="445" height="214" /></p>
<p style="text-align: justify;">A continuación, simularemos que somos el usuario <strong>JC-Latitude-E6430</strong> y con su clave pública, descifraremos el fichero para ver su contenido. Para ello, hay que importar la clave privada del usuario <strong>JC-Latitude-E6430</strong> en <span style="color: #000000;"><span style="font-size: medium;">Kleopatra</span></span> para simular que el usuario está haciendo uso del componente <span style="color: #000000;"><span style="font-size: medium;">Kleopatra</span></span> donde tiene su clave pública y privada.</p>
<table border="0" style="height: 10px; width: 100%;">
<tbody>
<tr style="height: 10px;">
<td style="width: 50%; height: 10px; text-align: center;"><img src="GnuPG-PGP-29.png" alt="" width="383" height="214" /></td>
<td style="width: 50%; text-align: center; height: 10px;"><img src="GnuPG-PGP-30.png" alt="" width="702" height="170" /></td>
</tr>
</tbody>
</table>
<p style="text-align: justify;">En estos momentos, si se observa el panel central, aparece en negrita el usuario<strong> JC-Latitude-E6430</strong> ya que se ha importado su clave privada.</p>
<p style="text-align: center;"><img src="GnuPG-PGP-31.png" alt="" width="1023" height="238" /></p>
<p style="text-align: justify;">A continuación, se va a eliminar el fichero <strong>Texto-SinCifrar.txt</strong> para que al descifrar se genere.</p>
<p style="text-align: center;"><img src="GnuPG-PGP-32.png" alt="" width="333" height="102" /></p>
<p style="text-align: justify;">Una vez borrado el fichero, en el menú principal de la aplicación, hay que pulsar el botón<strong> Descifrar/Verificar</strong> donde seleccionamos el fichero cifrado y en ese momento, comienza el proceso de descifrado (Nos solicita la contraseña del usuario <strong>JC-Latitude-E6430 -</strong> ver figura inferior<strong>).</strong></p>
<p style="text-align: center;"><strong><img src="GnuPG-PGP-33.png" alt="" width="641" height="364" /></strong></p>
<p style="text-align: justify;">Una vez finaliza el proceso, nos dice que se ha descifrado correctamente y ya podremos guardar el fichero pulsando el botón <strong> 'Save-All'.</strong></p>
<p style="text-align: center;"><strong><img src="GnuPG-PGP-34.png" alt="" width="637" height="510" /></strong></p>
<p style="text-align: justify;">Si pulsamos<strong> 'Mostrar registro de auditoría' </strong>→ Vemos las acciones realizadas en el proceso.</p>
<p style="text-align: center;"><img src="GnuPG-PGP-35.png" alt="" width="688" height="157" /></p>
<p style="text-align: justify;">A continuación, abrimos el fichero que acabamos de guardar para ver su contenido.</p>
<p style="text-align: center;"><img src="GnuPG-PGP-36.png" alt="" width="736" height="429" /></p>
<h4 style="text-align: justify;">3.3 Firma</h4>
<p style="text-align: justify;">Otra de las opciones que se le ha dado a nuestro certificado al crearlo es la posibilidad de la firma (Firmar un archivo desde <span style="color: #000000;"><span style="font-size: medium;">Kleopatra</span></span> y obtener la firma asociada a un fichero). Para eso, se necesita el certificado que hemos creado y el fichero con la firma.</p>
<p style="text-align: justify;">En el menú: Opción <strong>Firmar/Cifrar</strong> → Seleccionamos el fichero.</p>
<p style="text-align: center;"></p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-37.png" alt="" width="662" height="194" /></td>
<td style="width: 50%; text-align: center;"><img src="GnuPG-PGP-38.png" alt="" width="636" height="510" /></td>
</tr>
</tbody>
</table>
<p style="text-align: justify;">A continuación, hay que pulsar el botón <strong>Firmar</strong>. Nos solicitará la contraseña del usuario <strong>Juan Carlos</strong> (el que va a firmar el archivo).</p>
<p style="text-align: center;"><img src="GnuPG-PGP-39.png" alt="" width="639" height="509" /></p>
<p style="text-align: justify;">Al ingresar la contraseña y pulsar el botón 'Ok', si todo ha ido bien, nos aparece una nueva ventana donde nos indica que se ha firmado correctamente el fichero y además, genera el fichero <strong>Texto-SinCifrar.txt.sig</strong> (signature), ver imagen inferior-central.</p>
<p style="text-align: center;"></p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 40.7547%; text-align: center;"><img src="GnuPG-PGP-40.png" alt="" width="634" height="237" /></td>
<td style="width: 32.8617%; text-align: center;"><img src="GnuPG-PGP-41.png" alt="" width="617" height="104" /></td>
<td style="width: 26.3836%; text-align: center;"><img src="GnuPG-PGP-42.png" alt="" width="529" height="231" /></td>
</tr>
</tbody>
</table>
<p style="text-align: justify;">Una vez firmado el documento, podemos verificar la persona que ha realizado esa firma. Para ello, desde el menú, seleccionamos →<strong> Descifrar/Verificar</strong> y seleccionamos el fichero <strong>.sig</strong>.</p>
<p style="text-align: center;"><img src="GnuPG-PGP-43.png" alt="" width="640" height="246" /></p>
<p align="justify"><span style="color: #000000;"><span style="font-size: medium;">Importante: La firma lleva tiempo, es el día/hora de cuando se firmó. </span></span><span style="color: #000000;"><span style="font-size: medium;">Si pulsamos en <em><strong>Mostrar el registro de auditoría</strong></em> (imagen inferior), podemos observar la fecha de la firma.</span></span></p>
<p align="justify" style="text-align: center;"><span style="color: #000000;"><img src="GnuPG-PGP-44.png" alt="" width="686" height="126" /></span></p>
</div>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 4.0</a></p>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="721_certificados_digitales.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="tarea_9_verificacin_de_certificados_digitales.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
</div>
<script type="text/javascript" src="_style_js.js"></script></body></html>