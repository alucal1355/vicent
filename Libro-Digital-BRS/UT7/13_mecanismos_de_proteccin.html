<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>1.3 Mecanismos de protección | UT7. Fortificación de la red interna: redes inalámbricas </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="author" content="Juan Carlos Requena" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.8 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-124"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="header"  style="background-image: url(logo-jcrequena.png); background-repeat: no-repeat;"><div id="headerContent">UT7. Fortificación de la red interna: redes inalámbricas</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">UT7. Fortificación de la red interna: redes inalámbricas</a></li>
   <li><a href="objetivos.html" class="no-ch">Objetivos</a></li>
   <li class="current-page-parent"><a href="1_seguridad_en_redes_inalmbricas.html" class="current-page-parent daddy">1. Seguridad en redes inalámbricas</a>
   <ul>
      <li><a href="11_ataques_a_redes_wifi.html" class="no-ch">1.1 Ataques a redes wifi</a></li>
      <li><a href="12_averiguar_contrasea_wifi_con_diccionario_utilizando_fuerza_bruta.html" class="no-ch">1.2 Averiguar contraseña Wifi con diccionario utilizando Fuerza bruta</a></li>
      <li id="active"><a href="13_mecanismos_de_proteccin.html" class="active no-ch">1.3 Mecanismos de protección</a></li>
   </ul>
   </li>
   <li><a href="2_protocolos_de_seguridad_inalmbrica.html" class="daddy">2. Protocolos de seguridad inalámbrica</a>
   <ul class="other-section">
      <li><a href="21_wep.html" class="no-ch">2.1 WEP</a></li>
      <li><a href="22_wpa.html" class="no-ch">2.2 WPA</a></li>
      <li><a href="23_wpa2.html" class="no-ch">2.3 WPA2</a></li>
      <li><a href="24_wpa3.html" class="no-ch">2.4 WPA3</a></li>
      <li><a href="25_wps.html" class="no-ch">2.5 WPS</a></li>
      <li><a href="26_radius.html" class="no-ch">2.6 Radius</a></li>
      <li><a href="laboratorio_1_configurar_un_dispositivo_tplink.html" class="no-ch">Laboratorio 1. Configurar un dispositivo TP-Link</a></li>
   </ul>
   </li>
   <li><a href="3_servidor_de_autenticacin_radius.html" class="daddy">3. Servidor de autenticación Radius</a>
   <ul class="other-section">
      <li><a href="31_freeradius.html" class="daddy">3.1 FreeRadius</a>
      <ul class="other-section">
         <li><a href="311_instalacin_servidor_radius.html" class="daddy">3.1.1. Instalación servidor Radius</a>
         <ul class="other-section">
            <li><a href="3111_instalacin_cliente_radius_para_pruebas.html" class="no-ch">3.1.1.1. Instalación Cliente Radius para pruebas</a></li>
         </ul>
         </li>
         <li><a href="312_configuracin_del_punto_de_acceso_o_router_inalmbrico.html" class="no-ch">3.1.2 Configuración del punto de acceso o router inalámbrico</a></li>
         <li><a href="313_acceso_del_usuario_o_suplicante.html" class="no-ch">3.1.3 Acceso del usuario o suplicante</a></li>
      </ul>
      </li>
      <li><a href="32_freeradius__validacin_con_usuarios_ldap.html" class="daddy">3.2. FreeRadius - Validación con usuarios LDAP</a>
      <ul class="other-section">
         <li><a href="321_instalar_openldap.html" class="no-ch">3.2.1 Instalar openLDAP</a></li>
         <li><a href="322_instalacin_y_configuracin_de_freeradius_como_aaa_server.html" class="no-ch">3.2.2 Instalación y configuración de FreeRADIUS como AAA Server</a></li>
         <li><a href="323_configuracin_del_cliente_radius.html" class="no-ch">3.2.3 Configuración del cliente Radius</a></li>
         <li><a href="324_acceso_del_usuario_o_suplicante.html" class="no-ch">3.2.4 Acceso del usuario o suplicante</a></li>
         <li><a href="proyecto_red_wpa2enterprise_con_servidor_radius_y_usuarios_openldap.html" class="no-ch">Proyecto. Red WPA2/Enterprise con servidor Radius y usuarios OpenLDAP</a></li>
      </ul>
      </li>
      <li><a href="33_servidor_radius_en_windows_server_2019_para_conexiones_inalmbricas_8021x.html" class="daddy">3.3. Servidor RADIUS en Windows Server 2019 para conexiones inalámbricas 802.1X</a>
      <ul class="other-section">
         <li><a href="331_crear_un_certificado_de_equipo_autofirmado.html" class="no-ch">3.3.1 Crear un certificado de equipo autofirmado</a></li>
         <li><a href="332_instalar_y_configurar_npsradius_en_windows_server.html" class="no-ch">3.3.2 Instalar y configurar NPS/Radius en Windows Server</a></li>
         <li><a href="333_configurar_el_routerap.html" class="no-ch">3.3.3 Configurar el router-AP</a></li>
         <li><a href="334_acceso_a_la_infraestructura_por_usuario_suplicante.html" class="no-ch">3.3.4 Acceso a la infraestructura por usuario suplicante</a></li>
      </ul>
      </li>
      <li><a href="34_servidor_aaa_en_gns3.html" class="no-ch">3.4 Servidor AAA en gns3</a></li>
   </ul>
   </li>
   <li><a href="4_hotspot.html" class="daddy">4. Hotspot</a>
   <ul class="other-section">
      <li><a href="41_hotspot_con_mikrotik.html" class="no-ch">4.1 HotSpot con MikroTik</a></li>
      <li><a href="prctica_2_hotspot_radius.html" class="no-ch">Práctica 2. Hotspot Radius</a></li>
   </ul>
   </li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="12_averiguar_contrasea_wifi_con_diccionario_utilizando_fuerza_bruta.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="2_protocolos_de_seguridad_inalmbrica.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">1.3 Mecanismos de protección</h1></div>
<div class="iDevice_wrapper textIdevice" id="id165">
<div class="iDevice emphasis0" >
<div id="ta165_165_2" class="block iDevice_content">
<div class="exe-text"><div class="iDevice_wrapper FreeTextIdevice" id="id73">
<div class="iDevice emphasis0">
<div id="ta73_85" class="block iDevice_content">
<h3 style="text-align: justify;"><span><strong>1. Falsas medidas de seguridad</strong></span></h3>
<p style="text-align: justify;">Cuando se habla de seguridad en redes inalámbricas, muchas veces se dan algunas recomendaciones que en absoluto mejoran la seguridad y producen al usuario una falsa sensación de protección ante acceso no autorizados. Conviene pues, conocerlas para que no perdamos el tiempo en aplicarlas. Estas falsas medidas son:</p>
<ul style="text-align: justify;">
<li><strong>Utilizar WEP</strong><span> </span><strong>como sistema de cifrado</strong>: WEP es el primer sistema que se implantó para dotar de protección a las redes wifi y actualmente es posible romper cualquier red wifi protegida con WEP en cuestión de pocos minutos, con técnicas como la inyección de paquetes, el modo monitor para capturar tramas y una herramienta de criptoanálisis como<span> </span><strong>aircrack-ng</strong><span> </span>o<span> </span><strong>wepcrack</strong>. Todas estas herramientas se encuentran disponibles en Internet e incluso hay asistentes en algunas distribuciones de auditoría que permiten hacer el proceso sin ser experto. WEP utiliza un algoritmo de cifrado llamado RC4 cuya implementación para redes wifi está rota desde hace muchos años. Por tanto, no se recomienda su uso.</li>
<li><strong>Usar filtrado de MAC</strong><span> </span><strong>en el AP</strong>: muchos puntos de acceso y routers inalámbricos tienen la opción de sólo permitir el acceso a la red wifi a determinados dispositivos usando la dirección física MAC de su tarjeta de red. Es muy fácil ver las direcciones MAC asociadas a un punto de acceso con software de monitorización como<span> </span><strong>airodump-ng</strong><span> </span>y cambiar la MAC de la tarjeta wifi del atacante desde cualquier sistema operativo. Por tanto, no se recomienda usar esta técnica porque es muy fácil saltársela con pocos conocimientos de redes.</li>
<li><strong>Deshabilitar el anuncio de la red</strong>, también como conocido como difusión o broadcast del<span> </span><strong>SSID</strong><span> </span>(Service Set Identifier): todos los puntos de acceso por defecto envían tramas "beacon" con el nombre de la wifi cada 100 milisegundos. De esta forma podemos ver las redes a nuestro alrededor. Si deshabilitamos esta función en el router, nadie puede ver el nombre de nuestra red y conectarse. Pero de nuevo, con herramientas como<span> </span><strong>airodump-ng<span> </span></strong>pueden verse las MAC asociadas a un AP dado (aparece su BSSID, que es la MAC del AP) y el nombre de la red aparece como<span> </span><strong>&lt;hidden&gt;</strong><span> </span>(oculto). Después, es fácil lanzar un ataque de<span> </span><strong>desautenticación</strong><span> </span>contra el cliente asociado haciéndose pasar por el AP, con lo que se fuerza a que el cliente vuelva a asociarse automáticamente y en este momento, el cliente envía el nombre de la wifi (SSID) en la trama de conexión, que es capturada por el atacante. Este proceso se hace en cuestión de pocos segundos.</li>
</ul>
<p style="text-align: center;"><img src="found-password.png" alt="" width="713" height="306" /></p>
<div class="exe-figure exe-image position-center" style="width: 667px; text-align: center;"><strong><span class="title"><em>Figura 1. </em></span></strong><span class="title"><em>Imagen de aircrack-ng en acción rompiendo una clave WEP.</em></span></div>
<p style="text-align: justify;"></p>
</div>
</div>
</div>
<div class="iDevice_wrapper preknowledgeIdevice em_iDevice em_iDevice_preknowledge" id="id61" style="text-align: justify;">
<div class="iDevice emphasis1">
<div class="iDevice_header">
<h2 class="iDeviceTitle">Herramientas libres de auditoría</h2>
<p class="toggle-idevice toggle-em1"><a href="#" id="toggle-idevice-id61-em1" title="Ocultar"><span>Ocultar</span></a></p>
</div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta61_41_2" class="block iDevice_content">
<p style="text-align: justify;">Todas las herramientas de auditoría wireless que se han comentando anteriormente, vienen de serie en muchas distribuciones GNU/Linux como Wifislax, Wifiway, nUbuntu, Backtrack, Black Arch, Parrot OS o Kali Linux. De todas ellas cabe destacar<span> </span><strong>Kali Linux</strong>, porque es la más actualizada y personalmente opino que es la mejor distribución para seguridad, con muchas herramientas de pentesting, inyección SQL, análisis de aplicaciones web, análisis forense, etcétera.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id77" style="text-align: justify;">
<p class="toggle-idevice toggle-em0"><a href="#" id="toggle-idevice-id77-em0" title="Ocultar"><span>Ocultar</span></a></p>
<div class="iDevice emphasis0">
<div id="ta77_85" class="block iDevice_content">
<h3><span><strong>2. Recomendaciones para Wi-Fi en los centros</strong></span></h3>
<p>A continuación, se citan las recomendaciones más destacables en materia de redes inalámbricas:</p>
<ul>
<li><strong>WPA PSK</strong>: En caso de no querer aventurarse en montar un RADIUS en el centro con gestión centralizada de usuarios en LDAP, Samba, Active Directory, etc. se recomienda usar WPA3 con AES en la medida de lo posible y una clave compleja. Los expertos en seguridad han revelado que una clave PSK de 20 caracteres alfanuméricos se podría romper por fuerza bruta en una wifi WPA2 (no así en WPA3) usando toda la capacidad de cómputo del planeta en una media de unos 100 años. Las vulnerabilidades de WPA vienen por usar contraseñas débiles, por no cambiar la contraseña ni el nombre de la wifi por defecto o por tener activo WPS. En cualquier caso, no recomiendo WPA PSK en cualquiera de sus versiones en un centro con cientos de usuario. En última instancia esa contraseña compartida es conocida por todos, incluso por gente ajena al centro y por tanto es como no tener contraseña. Si hay algún ataque, no es posible identificar al usuario ya que es la misma contraseña para todos.</li>
<li><strong>WPA Enterprise</strong>: Ya se han comentado las ventajas de este sistema. El problema es la curva de aprendizaje necesaria para gente no experimentada y que es más complejo de administrar un RADIUS o un LDAP/Active Directory. Muchos centros están usando la solución con LliureX que he citado anteriormente.</li>
<li><strong>No conectarse a redes abiertas</strong><span> </span>bajo ningún concepto ni montar soluciones como portales cautivos abiertos. En las redes wifi abiertas puede conectarse cualquiera que disponga de las herramientas necesarias para hacer ataques MITM (las hay incluso apps para móviles como dSploit, zAnti, Wifikill, etc). Los portales cautivos como los de los hoteles, aeropuertos, cafeterías, etc. que muestran una página web de identificación una vez nos conectamos (portal cautivo) son extremadamente fáciles de saltar con los conocimientos adecuados, a no ser que protejan con algún sistema como claves WPA. Por tanto, no se recomienda la instalación de un portal cautivo abierto con autenticación web pues es fácil atacar el sistema y a los usuarios, así como evitar la autenticación.</li>
<li><strong>Eliminar las redes abiertas de la lista de redes preferidas</strong>, de esta forma, al borrarlas de la lista de nuestro dispositivo, un atacante cerca de nosotros no puede averiguar las redes abiertas a las que nos hemos conectado y crear una red que se llame igual. A esta técnica se le conoce como Rogue AP o Evil Twin. De esta forma nuestro dispositivo se conectaría automáticamente y el atacante podría espiar nuestras comunicaciones.<br /><strong>Deshabilitar WPS</strong>, por las razones expuestas anteriormente. Existen herramientas como<span> </span><strong>reaver</strong>, que permite atacar este protocolo.</li>
<li><strong>Cambiar contraseñas</strong><span> </span>WPA y nombre de la red<span> </span><strong>por defecto.<br /></strong></li>
</ul>
<p><strong></strong>Para finalizar, puedes ver las recomendaciones de seguridad de este vídeo de <strong>Intypedia</strong>, en la línea de las que se han comentado aquí:</p>
<p style="text-align: center;"><iframe width="560" height="315" src="https://www.youtube.com/embed/rhJAJ1TdNyg" allowfullscreen="allowfullscreen" class="external-iframe"></iframe></p>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id71">
<p class="toggle-idevice toggle-em0" style="text-align: justify;"><a href="#" id="toggle-idevice-id71-em0" title="Ocultar"><span>Ocultar</span></a></p>
<div class="iDevice emphasis0">
<div id="ta71_85" class="block iDevice_content">
<h3 style="text-align: justify;"><span><strong>3. Mecanismos de protección adicionales (modo paranoico)<br /></strong></span></h3>
<p style="text-align: justify;">A continuación se citan algunas medidas que pueden ser recomendables, si bien se pierde algo de funcionalidad en muchas ocasiones al activarlas:</p>
<ul>
<li style="text-align: justify;">Deshabilitar DHCP en el router o punto de acceso wifi.</li>
<li style="text-align: justify;">Limitar número de clientes asociados.</li>
<li style="text-align: justify;">Modificar la potencia y direccionalidad de la señal (cambiar antena o usar antena windsurfer).</li>
<li style="text-align: justify;">Aislar comunicación entre clientes.</li>
<li style="text-align: justify;">Instalar un firewall en el perímetro entre red cableada e inalámbrica.</li>
<li style="text-align: justify;">Utilizar entradas ARP estáticas.</li>
</ul>
</div>
</div>
</div></div>
</div>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 4.0</a></p>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="12_averiguar_contrasea_wifi_con_diccionario_utilizando_fuerza_bruta.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="2_protocolos_de_seguridad_inalmbrica.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creado con eXeLearning<span> (Ventana nueva)</span></span></a></p><script type="text/javascript" src="_style_js.js"></script></body></html>