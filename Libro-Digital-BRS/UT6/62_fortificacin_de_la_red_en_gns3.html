<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="exe_effects.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>6.2 Fortificación de la red en GNS3 | UT6. Fortificación de la red interna: segmentación de red </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="author" content="Juan Carlos Requena" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.7 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="exe_effects.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-58"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="header"  style="background-image: url(logoJCRequena.png); background-repeat: no-repeat;"><div id="headerContent">UT6. Fortificación de la red interna: segmentación de red</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">UT6. Fortificación de la red interna: segmentación de red</a></li>
   <li><a href="objetivos.html" class="no-ch">Objetivos</a></li>
   <li><a href="1_introduccin.html" class="no-ch">1. Introducción</a></li>
   <li><a href="2_direccionamiento_ip.html" class="no-ch">2. Direccionamiento IP</a></li>
   <li><a href="3_segmentacin_de_redes.html" class="no-ch">3. Segmentación de redes</a></li>
   <li><a href="4_ip_versin_6.html" class="no-ch">4. IP Versión 6</a></li>
   <li><a href="5_subnetting_y_supernetting.html" class="daddy">5. Subnetting y Supernetting</a>
   <ul class="other-section">
      <li><a href="prctica_1_subnetting_vlsm.html" class="no-ch">Práctica 1. Subnetting VLSM</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="6_redes_virtuales_vlans.html" class="current-page-parent daddy">6. Redes virtuales (VLANs)</a>
   <ul>
      <li><a href="61_introduccin_a_gns3.html" class="daddy">6.1 Introducción a GNS3</a>
      <ul class="other-section">
         <li><a href="611_instalacin_de_gns3.html" class="no-ch">6.1.1 Instalación de GNS3</a></li>
         <li><a href="612_ejecutar_gns3_y_crear_nuevo_proyecto.html" class="no-ch">6.1.2 Ejecutar GNS3 y crear nuevo Proyecto</a></li>
         <li><a href="613__interconectar_diferentes_vlan.html" class="no-ch">6.1.3  Interconectar diferentes VLAN</a></li>
      </ul>
      </li>
      <li><a href="prctica_2_segmentacin_de_red_vlan_en_mikrotik_y_switch_cisco.html" class="no-ch">Práctica 2. Segmentación de red: VLAN en Mikrotik y Switch Cisco</a></li>
      <li id="active"><a href="62_fortificacin_de_la_red_en_gns3.html" class="active daddy">6.2 Fortificación de la red en GNS3</a>
      <ul>
         <li><a href="621_ataque_mac_flooding.html" class="no-ch">6.2.1 Ataque MAC flooding</a></li>
         <li><a href="622_dhcp_starvation.html" class="no-ch">6.2.2 DHCP Starvation</a></li>
         <li><a href="prctica_3_mitigar_ataques_en_dominio_broadcast.html" class="no-ch">Práctica 3. Mitigar ataques en dominio Broadcast</a></li>
      </ul>
      </li>
      <li><a href="63_vlan_para_la_gestin_de_los_equipos_de_comunicacinred.html" class="no-ch">6.3 VLAN para la gestión de los equipos de comunicación/red</a></li>
      <li><a href="laboratorio_2_vlan_con_open_vswitch.html" class="no-ch">Laboratorio 2. VLAN con Open vSwitch</a></li>
      <li><a href="prctica_4_vlan_con_open_vswitch.html" class="no-ch">Práctica 4. VLAN con Open vSwitch</a></li>
      <li><a href="laboratorio_3_vlan_con_tplink.html" class="no-ch">Laboratorio 3. VLAN con tp-link</a></li>
   </ul>
   </li>
   <li><a href="7_microsegmentacin.html" class="no-ch">7. Microsegmentación</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="prctica_2_segmentacin_de_red_vlan_en_mikrotik_y_switch_cisco.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="621_ataque_mac_flooding.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">6.2 Fortificación de la red en GNS3</h1></div>
<div class="iDevice_wrapper textIdevice" id="id96">
<div class="iDevice emphasis0" >
<div id="ta96_108_2" class="block iDevice_content">
<div class="exe-text"><h3>1. Introducción</h3>
<p style="text-align: justify;"><span>En este capítulo se va a trabajar con el emulador </span><strong>GNS3</strong><span> que soporta configuración y emulación de dispositivos de interconexión como routers mikrotik, switches cisco, etcétera e incorporar hosts como Linux, MAC OS, Windows, etcétera.</span><span></span></p>
<h3 style="text-align: justify;"><span>2. Esquema de Red</span></h3>
<p style="text-align: justify;"><span>El esquema de red en el que se basa el capítulo se puede observar en la siguiente figura, donde se han realizado las siguientes configuraciones:</span></p>
<ul>
<li style="text-align: justify;"><span><strong>Mikrotik</strong></span>
<ul>
<li style="text-align: justify;"><span>Creación de vlan 2 (aula 2), valan 3 (aula 1), vlan 5 (profesorado), vlan 10 (dirección) y vlan 100 de gestión.</span><span></span></li>
<li style="text-align: justify;"><span>Servidores dhcp para servir ip's en las 4 vlan's (la vlan de gestión tiene direccionamiento estático).</span></li>
</ul>
</li>
<li style="text-align: justify;"><strong>Switch Cisco:</strong>
<ul>
<li style="text-align: justify;"><span>Se han configurado los puertos del switch de la siguiente manera (<a href="https://github.com/jcrequena/Bastionado/blob/main/CentroEducativo/aula1/Config-Switch-Cisco-Aula1.dat" target="_blank" rel="noopener">acceder a gitub</a>).</span></li>
</ul>
</li>
</ul>
<p style="text-align: center;"><img src="Esquema-Red-GNS3.png" alt="" width="979" height="560" /></p>
<h3>3. Posibles ataques en capa 2 y 3</h3>
<p style="text-align: justify;">En la siguiente tabla, se identifican los<strong> tipos de ataques que podemos recibir en nuestra red</strong> diferenciados por las<strong> capas 2 y 3</strong> del procolo tcp/ip.</p>
<table style="height: 260px; width: 657px; margin-left: auto; margin-right: auto;" border="1">
<tbody>
<tr style="height: 35px;">
<td style="width: 44.6875px; height: 35px;">
<p><span style="font-size: 12pt;"><strong>Capa</strong></span></p>
</td>
<td style="width: 128.172px; height: 35px;">
<p><span style="font-size: 12pt;"><strong>Ataque</strong></span></p>
</td>
<td style="width: 462.141px; height: 35px;">
<p><span style="font-size: 12pt;"><strong>Soluciones</strong></span></p>
</td>
</tr>
<tr style="height: 225px;">
<td style="width: 44.6875px; height: 225px;">
<p style="text-align: center;"><span style="font-size: 12pt;"><strong>2</strong></span></p>
</td>
<td style="width: 128.172px; height: 225px;">
<p><span style="font-size: 12pt;"><strong>ARP spoofing</strong></span></p>
<p><span style="font-size: 12pt;"><strong>ARP poisoning</strong></span></p>
<p><span style="font-size: 12pt;"><strong>VLAN hoping</strong></span></p>
</td>
<td style="width: 462.141px; height: 225px;">
<p style="text-align: justify;"><span style="font-size: 12pt;">Asociar MAC a puerto (port-security).</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt;">Deshabilitar puertos no utilizados.</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt;">Monitorizar los cambios de MAC en los puertos.</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt;">Monitorizar el volumen de paquete ARP request, ARP broadcast.</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt;">Deshabilitar protocolo DTP.</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt;">Cifrado de comunicaciones (intercepta pero tiene valor).</span></p>
<p style="text-align: justify;"><span style="font-size: 12pt;">Cambiar la VLAN nativa por defecto (1).</span></p>
</td>
</tr>
<tr>
<td style="width: 44.6875px;">
<p style="text-align: center;"><span style="font-size: 12pt;"><strong>3</strong></span></p>
</td>
<td style="width: 128.172px;">
<p><span style="font-size: 12pt;"><strong>ICMP flooding<br />IP spoofing</strong></span></p>
</td>
<td style="width: 462.141px;">
<p style="text-align: justify;"><span style="font-weight: 400; font-size: 12pt;">Desactivar protocolo ICMP.<br />Control tipos de ICMP.<br />Control de I/MAC en tablas ARP.<br />Protección DoS contra excesivo número de SYN.<br />Control de paquetes grandes de ICMP.<br />Bloqueo de un host contra múltiples puertos.<br />Bloqueo de un host contra múltiples host.<br />Uso de UDP por protocolos de TCP.<br />Control de Man in The Middle.</span></p>
</td>
</tr>
</tbody>
</table>
<p style="text-align: center;"><em><strong>Tabla 1.</strong> Tipos de ataques por capas.</em></p>
<h3>3. Ataque ARP poisoning (Capa 2)</h3>
<p style="text-align: justify;"><span style="font-weight: 400;">Los ataques </span><b>ARP Poisoning</b><span style="font-weight: 400;"> o también conocidos como <strong>ARP Spoofing</strong>, son uno de los ataques Man in the Middle más conocidos y más peligrosos que podemos encontrarnos en las redes cableadas e inalámbricas en la <strong>capa 2</strong>. Si un ciberdelincuente realiza correctamente este ataque, será capaz de interceptar todas las comunicaciones entre la víctima y la conexión a Internet, además, con técnicas algo más avanzadas, podría incluso modificar el tráfico al vuelo e incluso «levantar» la seguridad del protocolo HTTPS para convertirlo en HTTP y vulnerar nuestra seguridad.</span></p>
<p style="text-align: justify;"><span style="font-size: 1em;">En la siguiente imagen, se puede observar el <strong>resultado de un ataque ARP Poisoning</strong> cuyo resultado es la obtención las credenciales de acceso a una plataforma web.</span></p>
<p><img src="credenciales-pilladas-POST-login-index.php.png" width="1235" height="621" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<p style="text-align: center;"><em><strong>Figura 1.</strong> Obtención de las credenciales de acceso a una plataforma web.</em></p>
<p style="text-align: justify;">Para<strong> realizar un ataque MiM</strong> del tipo <strong>ARP Poisoning,</strong> se ha utilizado un equipo Kali con la <strong>finalidad</strong> que se establezca como gateway del equipo Objetivo y de ese modo., pueda interceptar todo el tráfico que se dirija hacia el exterior (internet). </p>
<p style="text-align: justify;">El <strong>equipo Kali</strong> está <strong>conectado a una interfaz del switvh</strong> donde se encuentra el equipo objetivo. Para este caso, el equipo objetivo es un PC del Aula 1, de un centro educativo.</p>
<p style="text-align: center;"><img src="kail.png" alt="" width="508" height="316" /></p>
<h4><strong>3.1 Escenario</strong> </h4>
<ul>
<li>Router Mikrotik con salida a internet.</li>
<li>Switch Cisco que conecta la red del aula 1 con el router Mikrotik conectado a internet.</li>
<li>Máquina objetivo <strong>PC_Alumando_A1_1</strong> conectada al switch del <strong>aula 1</strong>.</li>
<li>Equipo atacante Kali conectado al switch del aula 1, en concreto, a la interfaz del switch Gi1/2. La interfaz del switch Gi1/2 está configurada de la siguiente forma:
<ul>
<li>Switch(config)#interface Gi1/2</li>
<li>Switch(config-if)#switchport access vlan 100</li>
<li>Switch(config-if)#switchport mode access</li>
<li>Switch(config-if)#media-type rj45</li>
<li>Switch(config-if)#negotiation auto</li>
</ul>
</li>
</ul>
<p>Para realizar el ataque MiM con el equipo Kali, vamos a utilizar el paquete <strong>ettercap.</strong></p>
<p style="text-align: justify;"><strong>Ettercap</strong> es una herramienta que permite mediante el protocolo ARP, engañar a los equipos, es decir, (ARP Poisoning) va a inundar la red diciendo que la MAC de la interfaz de red del router mikrotik que conecta con la interfaz del switch es la suya. De esta forma, todos los equipos cambiarán las tablas de arp con esta modificación.</p>
<div class="exe-fx exe-tabs">
<h2>1</h2>
<p style="text-align: justify;">En primer lugar, ejecutamos <strong>ettercap</strong> con la opción -G (entorno gráfico).</p>
<pre><span style="font-size: 12pt;">sudo ettercap -G</span></pre>
<p style="text-align: center;"><img src="ettercap.png" alt="" width="800" height="383" /></p>
<h2>2</h2>
<p style="text-align: justify;">Si se accede al equipo objetivo y vemos su tabla arp (hacemos un ping a internet para generar la tabla), el resultado (ver imagen inferior) es la dirección MAC de la interfaz del router mikrotik de este segmento de red y que para este caso es: <strong>0c:d0:c0:7f:00:02</strong>.</p>
<p><img src="arp-alumando.png" alt="" width="405" height="202" style="display: block; margin-left: auto; margin-right: auto;" /></p>
<h2>3</h2>
<p style="text-align: justify;">A continuación, se realiza el<strong> ataque ARP Poisoning</strong> para que cambie la MAC del gw del equipo objetivo por la MAC del equipo atacante (Kali). Para ello, hay que decirle que escanee el dominio de broadcast al que está conectado pulsando el icono <strong>Lupa</strong>.</p>
<p style="text-align: center;"><img src="lupa.png" alt="" width="366" height="27" /></p>
<p style="text-align: justify;">El resultado es el siguiente:</p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 33.3333%; text-align: center;"><img src="result-ettercap.png" alt="" width="324" height="128" /></td>
<td style="width: 22.6073%; text-align: center;"><span style="font-size: 12pt;">Si pulsamos sobre el icono <img src="mostrar-res.png" alt="" width="33" height="27" /> nos muestra la lista de hosts escaneada.</span></td>
<td style="width: 44.0593%; text-align: center;"><img src="result-ettercap2.png" alt="" width="358" height="157" /></td>
</tr>
</tbody>
</table>
<h2>4</h2>
<p style="text-align: justify;">De la lista que aparece, hay que seleccionar la ip/mac de la interfaz del router mikrotik (para este caso es 192.168.1.1) y pulsamos el botón <strong>add target 1</strong>.  Después, hay que seleccionar de la lista la ip/mac del equipo objetivo (PC_Alumnado_A1, para este caso es 192.168.1.254) y pulsamos <strong>add target 2.</strong></p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%; text-align: center;"><img src="etterccap-01.png" alt="" width="547" height="340" /></td>
<td style="width: 50%; text-align: center;"><img src="etterccap-02.png" alt="" width="773" height="295" /></td>
</tr>
<tr>
<td style="width: 50%; text-align: center;"><span style="font-size: 12pt;"><strong>Seleccionar Objetivo 1.</strong> Interfaz de red del router que conecta con la interfaz trunk del switch.</span></td>
<td style="width: 50%; text-align: center;"><span style="font-size: 12pt;"><strong>Seleccionar Objetivo 2.</strong> Interfaz de red del equipo objetivo (PC Alumno 1).</span></td>
</tr>
<tr>
<td style="width: 50%; text-align: left;" colspan="2">
<p><span style="font-size: 12pt;">El resultado es el siguiente:</span></p>
<p><span style="font-size: 12pt;"><img src="etterccap-03.png" alt="" width="310" height="126" /></span></p>
</td>
</tr>
</tbody>
</table>
<h2>5</h2>
<p style="text-align: justify;">A continuación, hay que pulsar sobre el icono de la tierra y seleccionar '<strong>ARP poisonong….</strong>', de ese modo, se podrá modificar la tabla arp del equipo objetivo y poner la del equipo atacante (kali). Aparace una ventana (figura central) donde hay que pulsar <strong>OK</strong>. La salida es la que se puede observar en la figura inferior derecha.</p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 38.293%; text-align: center;"><img src="etterccap-04.png" alt="" width="215" height="296" /></td>
<td style="width: 36.707%; text-align: center;"><img src="etterccap-05.png" alt="" width="407" height="139" /></td>
<td style="width: 25%; text-align: center;"><img src="etterccap-06.png" alt="" width="372" height="130" /></td>
</tr>
</tbody>
</table>
<p></p>
<h2>6</h2>
<p style="text-align: justify;">Si accedemos al equipo PC_Alumnado_A1, veremos que le ha cambiado la MAC de la ip de la tabla arp por la del kali (figura derecha).  En la figura central se tiene la MAC antes de realizar el ataque y la figura de la derecha la MAC después. Se puede comprobar que la MAC corresponde a la del equipo Kali (figura izquierda).</p>
<table border="0" style="width: 100%;">
<tbody>
<tr>
<td style="width: 44.3755%; text-align: center;"><img src="etterccap-07.png" alt="" width="630" height="375" /></td>
<td style="width: 28.3354%; text-align: center;"><img src="etterccap-08.png" alt="" width="399" height="319" /></td>
<td style="width: 27.2891%; text-align: center;"><img src="etterccap-09.png" alt="" width="410" height="319" /></td>
</tr>
<tr>
<td style="width: 44.3755%; text-align: center;"><span style="font-size: 12pt;">Datos tcp/ip del equipo Kali.</span></td>
<td style="width: 28.3354%; text-align: center;"><span style="font-size: 12pt;">Datos arp del equipo objetivo antes del ataque.</span></td>
<td style="width: 27.2891%; text-align: center;"><span style="font-size: 12pt;">Datos arp del equipo objetivo después del ataque.</span></td>
</tr>
</tbody>
</table>
<span style="font-size: 12pt;"></span></div>
<p style="text-align: justify;">En el siguiente vídeo, <span style="font-weight: 400;">se describe qué hace un ataque</span> <a href="https://es.wikipedia.org/wiki/Suplantaci%C3%B3n_de_ARP" target="_blank" rel="noopener"><strong>ARP poisoning</strong></a> en un mismo dominio de broadcast de una red de un centro educativo, en concreto, en un aula segmentada con VLAN's, <span style="font-weight: 400;">y cómo se hace con la popular distribución Kali Linux</span></p>
<p style="text-align: center;"><iframe width="560" height="314" src="https://www.youtube.com/embed/eCTokNTRYAs" allowfullscreen="allowfullscreen"></iframe></p>
<p style="text-align: center;"><em><strong>Vídeo 1. </strong>Ataque ARP Poisoning Red VLANs.</em></p>
<ul></ul>
<h3>4. Port Isolation (protected)</h3>
<p>Los puertos protegidos tienen estas características:</p>
<ol>
<li style="text-align: justify;">Un <strong>puerto protegido</strong> <strong>no reenvía</strong> ningún tráfico (unidifusión, multidifusión o difusión) a ningún otro puerto que también sea un puerto protegido, por lo que no hay comunicación entre ellos.</li>
<li style="text-align: justify;">El <strong>tráfico de datos no se puede reenviar</strong> entre puertos protegidos en la Capa 2; solo se reenvía el tráfico de control, como los paquetes PIM, porque estos paquetes son procesados ​​por la CPU y reenviados en el software. Todo el tráfico de datos que pasa entre los puertos protegidos debe reenviarse a través de un dispositivo de capa 3.</li>
<li style="text-align: justify;">El comportamiento de reenvío entre un puerto protegido y un puerto no protegido continúa como de costumbre, es decir, los puertos protegidos pueden comunicarse con los que no están protegidos.</li>
</ol>
<div class="cuadro-nota-centro-new">
<p style="text-align: justify;">Debido a que una pila de conmutadores representa un solo conmutador lógico, el <strong>tráfico de Capa 2</strong> no se reenvía entre ningún puerto protegido en la pila de conmutadores, ya sea que estén en el mismo conmutador o en diferentes conmutadores de la pila.</p>
</div>
<p style="text-align: justify;">Para poder <strong>aplicar seguridad en un puerto del switch</strong> (ejemplo el Gi0/1) es necesario que el puerto esté en <strong>modo access</strong> (excepto en puerto trunk). </p>
<p style="text-align: justify;">En primer lugar seleccionamos el puerto a configurar:</p>
<pre><span style="font-size: 12pt;"><strong>Switch(config)#</strong>conf interface Gi0/1</span></pre>
<p style="text-align: justify;">A continuación, se configura el puerto en modo access:</p>
<pre><span style="font-size: 12pt;"><strong>Switch(config-if)#</strong>switchport mode access</span><span style="font-size: 12pt;"></span></pre>
<p style="text-align: justify;">Por último, para establecer un puerto protegido hacemos:</p>
<pre><span style="font-size: 12pt;"><strong>Switch(config-if)#</strong>switchport protected</span></pre>
<p style="text-align: justify;">Para establecer un puerto NO protegido hacemos:</p>
<pre><span style="font-size: 12pt;"><strong>Switch(config-if)#</strong>no switchport protected</span></pre>
<p><strong>Referencias:</strong></p>
<ul>
<li><a href="https://mytcpip.com/configurar-port-security-en-un-switch-cisco-2960/">https://mytcpip.com/configurar-port-security-en-un-switch-cisco-2960/</a></li>
</ul>
<h3>5. Fortificación para mitigar ataques</h3>
<p style="text-align: justify;">La segmentación de las redes pos sí solas no evitan ciertos ataques MiM. Es necesario realizar algunas configuraciones en los equipos de comunicación ya sean de capa 2 o capa 3 para mitigar los mismos.</p>
<p style="text-align: justify;">Un mismo dominio de broadcast debería tener configurado lo siguiente:</p>
<ul>
<li style="text-align: justify;">Separación de los equipos en VLANs.</li>
<li style="text-align: justify;">Configuración de port isolation en los switches</li>
</ul>
<p style="text-align: justify;"><strong>Configurando lo anterior</strong>, ¿se evitarían los ataques de inundación de la tabla MAC del switch de aula con el port isolation o se necesitaría alguna cosa más?.</p>
<p style="text-align: justify;">La respuesta es que no se evitaría por lo que se tendría que realizar alguna configuración más, relacionada con la restricción del número de direcciones MAC admisibles dentro de las opciones de seguridad de puertos en el switch. </p>
<p style="text-align: justify;">En los switch Cisco se tiene la directiva port-security.</p>
<pre><span style="font-size: 12pt;"><strong>switch(config-if)#</strong>switchport port-security</span></pre>
<p style="text-align: justify;"><span style="font-weight: 400;">Con el puerto configurado así, por defecto, la primera MAC que aprenda (la de la primera trama que pase por ahí) será la única que se podrá usar, hasta que se desconecte, entonces la que aprenda después se convertirá en segura. Se puede cambiar para que aprenda más de una como segura (sólo tiene sentido en un puerto conectado a un hub u otro switch).</span></p>
<p><span style="font-weight: 400;">Para que en cuanto aprenda una dirección, no permita cambiarla.</span></p>
<pre><span style="font-size: 12pt;"><strong>switch(config-if)#</strong>switchport port-security <span style="font-weight: 400;">mac-address sticky</span></span></pre>
<p><span style="font-weight: 400;">Otras opciones de port-secuity son violation y maximum. Para indicar el número de direcciones seguras:</span></p>
<pre><span style="font-size: 12pt;"><strong>switch(config-if)#</strong>switchport port-security <span style="font-weight: 400;">maximum [Número]</span></span></pre>
<p><span style="font-weight: 400;">o asignar direcciones estática MAC a los puertos:</span></p>
<pre><span style="font-size: 12pt;"><strong>switch(config)#<span style="font-weight: 400;">mac-address-table static dirección_mac interface nº  vlan nombre_vlan</span></strong></span></pre></div>
</div>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 4.0</a></p>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="prctica_2_segmentacin_de_red_vlan_en_mikrotik_y_switch_cisco.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="621_ataque_mac_flooding.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
</div>
<script type="text/javascript" src="_style_js.js"></script></body></html>